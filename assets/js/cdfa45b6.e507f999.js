"use strict";(self.webpackChunkpy_web_io_blog=self.webpackChunkpy_web_io_blog||[]).push([[5778],{4119:function(e){e.exports=JSON.parse('{"blogPosts":[{"id":"docusaurus-cms","metadata":{"permalink":"/PyWebIO-Docusaurus/docusaurus-cms","source":"@site/blog/2022-04-22-docusaurus-cms/index.mdx","title":"Use Docusaurus and GitHub Actions as a CMS","description":"A guide to setting up Docusaurus and GitHub Actions as a content management system to an existing GitHub Pages website","date":"2022-04-22T00:00:00.000Z","formattedDate":"April 22, 2022","tags":[{"label":"PyWeb.io","permalink":"/PyWebIO-Docusaurus/tags/py-web-io"},{"label":"Docusaurus","permalink":"/PyWebIO-Docusaurus/tags/docusaurus"},{"label":"CMS","permalink":"/PyWebIO-Docusaurus/tags/cms"},{"label":"GitHub Actions","permalink":"/PyWebIO-Docusaurus/tags/git-hub-actions"}],"readingTime":4.03,"truncated":true,"authors":[{"name":"Hannah Young","title":"Software Developer","url":"https://github.com/Corgibyte","imageURL":"https://github.com/Corgibyte.png","key":"young"}],"frontMatter":{"slug":"docusaurus-cms","title":"Use Docusaurus and GitHub Actions as a CMS","description":"A guide to setting up Docusaurus and GitHub Actions as a content management system to an existing GitHub Pages website","image":"/img/blog/docusaurus_gh_cms.png","authors":["young"],"tags":["PyWeb.io","Docusaurus","CMS","GitHub Actions"],"keywords":["Docusaurus","GitHub Actions","CMS"]},"nextItem":{"title":"placeholder","permalink":"/PyWebIO-Docusaurus/2022/04/06/placeholder"}},"content":"![Docusaurus CMS](./docusaurus_gh_cms.png)\\r\\n\\r\\n\\r\\n## Problem\\r\\n![-----------------------------------------------------](https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/cloudy.png)\\r\\n\\r\\nAdding a Docusaurus powered blog and tutorial section to the existing PyWeb.io website hosted on GitHub Pages. Docusaurus has excellent documentation on deploying to GitHub Pages. However, with a pre-existing deployed GitHub pages website, there is a need to add the Docusaurus generated static files to this deployment without disrupting the existing structure.\\r\\n\\r\\n## Solution\\r\\n![-----------------------------------------------------](https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/cloudy.png)\\r\\n\\r\\nThe solution was to use Docusaurus to transform Markdown content files into static HTML files, and GitHub Actions to automatically build those files and deploy them from the Docusaurus repository to the pre-existing GitHub Pages repository.\\r\\n\\r\\n\x3c!--truncate--\x3e\\r\\n\\r\\n## Requirements\\r\\n![-----------------------------------------------------](https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/cloudy.png)\\r\\n\\r\\n1. A [Docusaurus](https://docusaurus.io/) source code repository (documentation repo).\\r\\n    * Follow [Docusaurus\' instructions](https://docusaurus.io/docs) for getting started in setting up a project.\\r\\n    * Push this Docusaurus project to your documentation repository on [GitHub](https://github.com/).\\r\\n2. A GitHub repository with a branch setup for [GitHub Pages](https://pages.github.com/) (GH Pages repo).\\r\\n\\r\\n## Setup SSH Key\\r\\n![-----------------------------------------------------](https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/cloudy.png)\\r\\n\\r\\n1. Generate a new SSH key using [GitHub\'s instructions](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent). \\r\\n:::danger Warning\\r\\nDo **not** add a passphrase. There is no need to add the key to your ssh-agent\\r\\n:::\\r\\n\\r\\n2. Go to your GH Pages repo on GitHub\'s website. Select the `Settings` tab. Then select `Deploy keys` from the sidebar on the left. \\r\\n3. Select `Add deploy key`. Add a title for the deploy key, and then paste the contents of the **public** SSH key (file ending with `.pub`) into the `Key` field. \\r\\n4. Be sure to select `Allow write access` and then select `Add key`.\\r\\n5. Go to your documentation repo on GitHub\'s website. Select the `Settings` tab. In the sidebar to the left select `Secrets`, followed by `Actions`.\\r\\n6. Select `New repository secret`. Select an [appropriate name](https://docs.github.com/en/actions/security-guides/encrypted-secrets#naming-your-secrets) for your secret. \\r\\n7. Paste the contents of the **private**  SSH key file (should begin with `-----BEGIN OPENSSH PRIVATE KEY-----`) into the `Value` field, and then select `Add secret`.\\r\\n:::tip Note\\r\\nThe **public** SSH key belongs in the GH Pages repo and the **private** SSH key belongs in your documentation repo\\r\\n:::\\r\\n\\r\\n## Setup GitHub Actions Workflow\\r\\n![-----------------------------------------------------](https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/cloudy.png)\\r\\n\\r\\n1. From the root of your documentation repo create a [workflow file](https://docs.github.com/en/actions/using-workflows#creating-a-workflow-file) with the following folder structure:\\r\\n    * `.github/workflows/yourfile.yml`.\\r\\n\\r\\n    :::tip Note\\r\\n\\r\\n    The filename can be of your choosing, example: `deploy.yml`.\\r\\n\\r\\n    :::\\r\\n\\r\\n2. The workflow file has two triggers, either a pull request or push to the `main` branch of the documentation repo.\\r\\n\\r\\n```\\r\\nname: Deploy to GitHub Pages\\r\\non:\\r\\n  pull_request:\\r\\n    branches: [main]\\r\\n  push:\\r\\n    branches: [main]\\r\\n```\\r\\n\\r\\n3. The first job will run when there is a pull request to `main` and will checkout the source, install NPM, and then generate static files from the documentation source to ensure there are no build errors.\\r\\n\\r\\n```\\r\\njobs:\\r\\n  test-deploy:\\r\\n    if: github.event_name != \'push\'\\r\\n    runs-on: ubuntu-latest\\r\\n    steps:\\r\\n      - uses: actions/checkout@v3\\r\\n      - uses: actions/setup-node@v3\\r\\n        with:\\r\\n          node-version: 16.x\\r\\n          cache: npm\\r\\n      - name: Install dependencies\\r\\n        run: npm ci\\r\\n      - name: Test build website\\r\\n        run: npm run build\\r\\n```\\r\\n\\r\\n4. The second job will run when there is a push to `main`. It will also checkout the source, install NPM, and generate static files. It will then deploy those static files to the pre-existing GH Pages repo.\\r\\n\\r\\n```\\r\\ndeploy:\\r\\n    if: github.event_name != \'pull_request\'\\r\\n    runs-on: ubuntu-latest\\r\\n    steps:\\r\\n      - uses: actions/checkout@v3\\r\\n      - uses: actions/setup-node@v3\\r\\n        with:\\r\\n          node-version: 16.x\\r\\n          cache: npm\\r\\n      - name: Install dependencies and build\\r\\n        run: npm ci\\r\\n      - name: Test build website\\r\\n        run: npm run build\\r\\n      - name: Deploy to GitHub Pages\\r\\n        uses: peaceiris/actions-gh-pages@v3\\r\\n        with:\\r\\n          deploy_key: ${{ secrets.GH_PAGES_DEPLOY }}    # Be sure to select the name used for your secret\\r\\n          external_repository: pywebio/pywebio.github.io    # GH Pages repo\\r\\n          publish_dir: ./build\\r\\n          publish_branch: main    # Branch in GH Pages repo set to be Source for GitHub Pages\\r\\n          destination_dir: docs   # Directory to indicate path for your documentation from base URL. Ours will be pyweb.io/docs\\r\\n          user_name: \'github-actions[bot]\'\\r\\n          user_email: \'github-actions[bot]@users.noreply.github.com\'\\r\\n```\\r\\n\\r\\n:::tip Note\\r\\n\\r\\nTake note of the comments on important values. Full script visible [here](https://gist.github.com/Corgibyte/9da8da9cf61b788c57a5ab23a92245cb)\\r\\n\\r\\n:::\\r\\n\\r\\n## Setup Docusaurus Configuration\\r\\n![-----------------------------------------------------](https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/cloudy.png)\\r\\n\\r\\nBecause the documentation static files are nested in a path of the rest of the existing static webpage, it is important to update the `docusaurus.config.js` file in the documentation source. Change the `baseUrl` field to match the `destination_dir` selected in the workflow file\'s `actions-gh-pages@v3` step. For example: `/docs/`.\\r\\n\\r\\n```\\r\\nconst config = {\\r\\n  title: \'PyWebIO\',\\r\\n  tagline: \'Low code Python web framework\',\\r\\n  //! might need to change this to match test url?\\r\\n  url: \'https://jeffterrell.github.io\',\\r\\n  baseUrl: \'/PyWebIO-Docusaurus/\',\\r\\n  // url: \'https://github.com\',\\r\\n  // baseUrl: \'/PyWebIO-Docusaurus/\',\\r\\n  onBrokenLinks: \'throw\',\\r\\n  onBrokenMarkdownLinks: \'warn\',\\r\\n  favicon: \'img/favicon.ico\',\\r\\n  organizationName: \'JeffTerrell\', // Usually your GitHub org/user name.\\r\\n  projectName: \'PyWebIO-Docusaurus\', // Usually your repo name.\\r\\n  deploymentBranch: \'gh-pages\',      \\r\\n  trailingSlash: true,    \\r\\n```\\r\\n\\r\\n## Conclusion\\r\\n![-----------------------------------------------------](https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/cloudy.png)\\r\\n\\r\\nYou should now be able to create content files for Docusaurus and have them auto-deploy once they are merged with your documentation source repository\'s `main` branch.\\r\\nCheck out how PyWeb.io is using this set up for creating blog and tutorial content:\\r\\n* [Compose and Publish Blog Post](../docs/tutorial-contribute/blog-post)\\r\\n* [Compose and Publish Blog Tutorial](../docs/tutorial-contribute/tutorial)"},{"id":"/2022/04/06/placeholder","metadata":{"permalink":"/PyWebIO-Docusaurus/2022/04/06/placeholder","source":"@site/blog/2022-04-06-placeholder.mdx","title":"placeholder","description":"This is a placeholder blog post to prevent broken links. Please replace with first available blog post.","date":"2022-04-06T00:00:00.000Z","formattedDate":"April 6, 2022","tags":[],"readingTime":0.085,"truncated":false,"authors":[],"frontMatter":{},"prevItem":{"title":"Use Docusaurus and GitHub Actions as a CMS","permalink":"/PyWebIO-Docusaurus/docusaurus-cms"},"nextItem":{"title":"Blog Template","permalink":"/PyWebIO-Docusaurus/blog-template"}},"content":"This is a placeholder blog post to prevent broken links. Please replace with first available blog post."},{"id":"blog-template","metadata":{"permalink":"/PyWebIO-Docusaurus/blog-template","source":"@site/blog/2022-04-05-blog-template/index.mdx","title":"Blog Template","description":"A blog post template","date":"2022-04-05T00:00:00.000Z","formattedDate":"April 5, 2022","tags":[{"label":"PyWebIO","permalink":"/PyWebIO-Docusaurus/tags/py-web-io"},{"label":"blog","permalink":"/PyWebIO-Docusaurus/tags/blog"},{"label":"template","permalink":"/PyWebIO-Docusaurus/tags/template"}],"readingTime":3.62,"truncated":true,"authors":[{"name":"Jeff Terrell","title":"Generalist","url":"https://github.com/JeffTerrell","imageURL":"https://github.com/JeffTerrell.png","key":"terrell"},{"name":"Hannah Young","title":"Software Developer","url":"https://github.com/Corgibyte","imageURL":"https://github.com/Corgibyte.png","key":"young"}],"frontMatter":{"slug":"blog-template","title":"Blog Template","description":"A blog post template","image":"./computer_blog.png","authors":["terrell","young"],"tags":["PyWebIO","blog","template"],"keywords":["keywords","SEO"]},"prevItem":{"title":"placeholder","permalink":"/PyWebIO-Docusaurus/2022/04/06/placeholder"}},"content":"![Main Image](./computer_blog.png)\\r\\n\\r\\nOpening, key insight(s) and set expectations as to what will be shared in post. Usually no more than 3-5 paragraphs.\\r\\n\\r\\n**Point 1:** Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut fermentum posuere purus sodales malesuada. Curabitur dictum diam id pulvinar tincidunt. Phasellus dictum quam risus, in aliquet nulla interdum aliquam. Sed vel varius purus, convallis posuere velit. Mauris tortor tortor, fermentum in dolor quis, faucibus consequat felis.\\r\\n\\r\\n**Point 2:** Suspendisse accumsan tristique ligula faucibus sodales. Aenean sit amet lorem dui. In rhoncus urna ligula. Phasellus efficitur in ante et vestibulum.\\r\\n\\r\\n**Point 3:** Sed at mattis augue, sit amet semper lacus. Donec id sodales tellus, vel tempus neque. Vestibulum vitae bibendum orci. Praesent viverra est eget elementum fermentum. Sed eget semper augue.\\r\\n\\r\\n\x3c!--truncate--\x3e\\r\\nUse the truncate command above after opening/introduction to ensure blog preview is not too long on blog landing page\\r\\n\\r\\n\\r\\n\\r\\n## Secondary Heading (Explanation of Point 1)\\r\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc et mollis magna, at bibendum eros. Etiam lacus massa, finibus ac ipsum nec, pellentesque dapibus elit. In id augue erat. Vestibulum sem dolor, tincidunt eu nisl ut, lobortis ultricies magna. Pellentesque scelerisque lectus vel sodales blandit. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\\r\\n* Mauris vulputate sem id congue blandit.\\r\\n* Phasellus convallis turpis ex. Maecenas vitae magna porttitor, laoreet sem nec.\\r\\n* Maecenas tincidunt, magna ac malesuada condimentum, nunc libero elementum sapien, in porta turpis est vel sapien.\\r\\n\\r\\n\\r\\n\\r\\n## Secondary Heading (Explanation of Point 2)\\r\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Sed commodo viverra semper. Duis a sem quis nisl sodales dignissim. Nulla non elit tempor, porttitor elit et, sollicitudin lacus. Fusce mi nunc, ullamcorper quis porta ac, porta vitae massa. Maecenas augue justo, laoreet non maximus ac, rutrum a felis.\\r\\n\\r\\n### Sub-point 1 \\r\\nPellentesque luctus lorem ut nibh commodo iaculis. Nullam ut sapien eget dui vestibulum volutpat. In ut dolor vitae magna tincidunt cursus.\\r\\n\\r\\n### Sub-point 2\\r\\nMaecenas tincidunt, magna ac malesuada condimentum, nunc libero elementum sapien, in porta turpis est vel sapien. Duis luctus magna enim, vel suscipit nunc maximus non.\\r\\n\\r\\n### Sub-point 3\\r\\nVivamus aliquet turpis vitae massa tincidunt, quis porta dui tempus. Mauris vulputate sem id congue blandit. Phasellus convallis turpis ex. Maecenas vitae magna porttitor, laoreet sem nec, fringilla nulla.\\r\\n* **Accumsan:** Lorem ipsum dolor sit amet, consectetur adipiscing elit.\\r\\n* **potenti:** Cras molestie tempus ipsum, non pretium tortor imperdiet in.\\r\\n\\r\\nNulla facilisi. Aliquam enim lectus, sagittis a sem at, volutpat congue felis. Vivamus hendrerit a lectus non sodales. Suspendisse potenti. Maecenas ligula justo, sollicitudin at accumsan sit amet, efficitur in sem. Curabitur enim mi, accumsan sit amet cursus et, volutpat non eros.\\r\\n\\r\\n\\r\\n\\r\\n## Secondary Heading (Explanation of Point 3)\\r\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Proin mattis ac metus egestas feugiat. Mauris a ligula ac odio aliquam tincidunt. Etiam nisl erat, lacinia non suscipit sed, hendrerit sit amet urna. Suspendisse a augue a odio efficitur elementum eget eget arcu. Vivamus eu dolor massa. Morbi aliquet dictum ante. Cras pretium nisi eu condimentum imperdiet. Sed ultricies mi eget sapien volutpat imperdiet.\\r\\n>\\"Block quote Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ut commodo est. Duis porta accumsan purus, pellentesque lacinia nisl venenatis vel. Morbi sed hendrerit metus, ut laoreet ex. Donec ac sapien posuere, blandit nisi quis, vulputate diam. Maecenas feugiat tincidunt massa.\\"\\r\\n- A Person, Job, Company, Location, etc.\\r\\n\\r\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam vitae leo mi. Suspendisse bibendum finibus urna, ac facilisis magna mollis sed. Suspendisse potenti. Vestibulum bibendum scelerisque elit id hendrerit.\\r\\n\\r\\n\\r\\n**Closing** Donec molestie orci id risus vehicula, id consectetur nibh dignissim. Phasellus eu lacus orci. Praesent sagittis, libero ac imperdiet sodales, magna mauris sollicitudin orci, sed accumsan odio nisl quis nulla. In aliquet porta tempor. Donec commodo, nunc ut pulvinar vulputate, nulla ex pulvinar felis, et ornare lacus tortor eu metus. Proin auctor porttitor purus quis dapibus. Vivamus rutrum urna nec lacus dignissim, non rhoncus dui vulputate.\\r\\n\\r\\n\\r\\n***About the author (optional)*** *Curabitur et nulla id dolor imperdiet pellentesque nec vitae orci. Ut venenatis, turpis ac scelerisque vestibulum, risus ex tincidunt urna, vitae dignissim libero sem a nulla. Proin convallis euismod ex, et maximus risus euismod eget. Praesent vehicula pretium augue, in vulputate risus consequat vel. Interdum et malesuada fames ac ante ipsum primis in faucibus. Morbi a tristique est.*"}]}')}}]);